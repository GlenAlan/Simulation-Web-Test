<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Convection Simulation - Physics Simulations</title>
    <link rel="stylesheet" href="../css/style.css">
</head>
<body>
    <header>
        <div class="container">
            <h1><a href="../index.html">Physics Simulations</a></h1>
            <nav>
                <button class="menu-toggle" aria-label="Toggle menu" aria-expanded="false">☰</button>
                <ul>
                    <li><a href="../index.html">Home</a></li>
                    <li><a href="pendulum.html">Pendulum</a></li>
                    <li><a href="projectile.html">Projectile Motion</a></li>
                    <li><a href="convection.html" class="active">Convection</a></li>
                </ul>
            </nav>
        </div>
    </header>

    <main class="simulation-page">
        <div class="container simulation-container">
            <h2>Convection Simulation</h2>

            <button class="sim-controls-toggle-desktop" aria-label="Toggle Controls Panel" aria-expanded="false" aria-controls="convectionControlsPanel">
                <!-- SVG Icon will be injected by JS -->
            </button>

            <div class="sim-controls-panel" id="convectionControlsPanel" role="region" aria-labelledby="simControlsToggleDesktopLabel">
                <div class="sim-controls-content">
                    <label>Simulation Speed: <span id="timeScaleVal">2.5</span>x
                        <input type="range" id="timeScale" min="0.1" max="10" step="0.1" value="2.5">
                    </label>
                    <label>Heating Radius: <span id="heatSizeVal">5</span>
                        <input type="range" id="heatSize" min="1" max="20" step="1" value="5">
                    </label>
                    <label>Heat Intensity: <span id="heatAmpVal">0.50</span>
                        <input type="range" id="heatAmp" min="0.01" max="1" step="0.01" value="0.50">
                    </label>
                    <label>Surface Cooling: <span id="coolRateVal">0.50</span>
                        <input type="range" id="coolRate" min="0" max="1" step="0.01" value="0.50">
                    </label>
                </div>
            </div>

            <div class="simulation-content-main">
                <div class="simulation-display-area"> 
                    <div class="simulation-layout-wrapper"> 
                        <div class="sim-canvas-container">
                            <div class="sim-aspect-ratio-box" style="--aspect-ratio: 1/1;">
                                <canvas id="canvas" class="sim-canvas"></canvas>
                            </div>
                            <div id="fps" class="sim-fps-display">FPS: 0</div>
                        </div>
                    </div>
                    <button class="sim-fullscreen-toggle" aria-label="Toggle Fullscreen View" aria-expanded="false">
                        <!-- Icon injected by JS -->
                    </button>
                </div> 

                <div class="description-area">
                    <h3>Description</h3>
                    <p>This simulation visualizes fluid convection. Click/drag on the canvas to apply heat. Adjust parameters using the controls. Press 'F' to toggle FPS. Use the fullscreen icon (e.g., ⤢) for an immersive view.</p>
                    <p>On larger screens, a settings panel (⚙️) slides from the left. In fullscreen, this panel is also available and adapts its position.</p>
                </div>
            </div>
        </div>
    </main>

    <footer>
        <div class="container">
            <p>© 2024 Physics Hub. All rights reserved.</p>
        </div>
    </footer>

    <script src="../js/main.js"></script>
    <script src="../js/convection.js" defer></script>
</body>
</html>